# 開発プロンプト

## Ollama の分離と tools の追加

現在は、main.js で、ollama のライブラリを読み込んでいますが、ollama のライブラリを読み込むのは、src/main.js ではなく、src/services/ollama.js で行うように変更してください。
そのため、main.js では、ollama.js を読み込むだけにして、実際の処理は ollama.js で行うようにします。
ollama の処理は、現在の main.js を参考にしてください。
チャットの UI と、Ollama API で、チャットメッセージを送受信することになりますが、送受信内容の管理は main.js で行ってください。ollama.js では、状態を持たないようにしてください。
現在、チャットの送受信の内容に、 `tools` は含まれていませんが、tools を含むようにしてください。Ollama API は、OpenAI API 互換の API です。必要であれば、Ollama API や OpenAI API の公式ドキュメントを参照してください。
tools には、 git.js で実装している関数を呼び出すための tools を定義してください。

ollama から返ってきた内容で、tools を利用する処理は、 `src/utilities/toolchain.js` にまとめてください。

上記に関連する処理で、下記の処理を追加してください。
ブラウザーでページが表示された時、git 操作を行うワークフォルダを一括削除してください。また、ワークディレクトリとして、 "D" を先頭にしてその後にミリ秒の Unixtime をつなげた名称（例： `D1743149380102`）を main.js で保持し、適宜利用してください。

コーディングは、シンプルで人間が理解しやすくメンテナンスが容易であることが重要です。
また、関数型プログラミングを心がけてください。JavaScript は関数型プログラミングに適した言語とは言えませが、可能な限り副作用の無い関数など関数型プログラミングを行ってください。ただし、関数型プログラミングを守ることは必須ではありません。
ollama は外部サービスのため副作用を持つことは許されます。

JavaScript のコメントは、日本語で書いてください。
JavaScript のコメント以外は、英語で書いてください。console や Object 内のメッセージ、文字列は英語で。

不明な事や課題がある場合は、実装を始める前に、わたしに確認してください。
